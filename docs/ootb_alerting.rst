Kafka infrastructure alerting
=============================

The Splunk application provides out of the box alerting for all the components of the Kafka and Confluent infrastructure.

Stale metrics life test
#######################

**Important: All alerts are disabled by default, and must be enabled depending on your needs**

Life test monitoring alerts perform a verification of the metric availability to alert on a potential downtime or issue with a component.

* Kafka monitoring - [ component ] - stale metrics life test

**Once activated, stale metrics alert verify the grace period to be applied, and the monitoring state of the component from the KVstore collection:**

::

    | inputlookup kafka_infra_inventory

**Alerts can be controlled by changing values of the fields:**

* grace_period: The grace value in seconds before assuming a severe status (difference in seconds between the last communication and time of the check)
* monitoring_state: A value of "enabled" activates verification, any other value disables it

**Collection content update:**

The content of the collection is automatically generated by the night time scheduled report:

* Update Kafka Infrastructure components inventory

Once a component has been added to the collection, it will not be overwritten nor modified or deleted, and modifications can be made and saved safely.

Kafka brokers monitoring
########################

**Important: All alerts are disabled by default, and must be enabled depending on your needs**

**Alerts are available to monitor the main and most important items for Kafka brokers:**

* Abnormal number of Active Controllers
* Offline or Under-replicated partitions
* Failed producer or consumer was detected
* ISR Shrinking detection

Kafka Connect task monitoring
#############################

**Important: All alerts are disabled by default, and must be enabled depending on your needs**

**Alerts are available to monitor the state of connectors and tasks for Kafka Connect:**

* Kafka monitoring - Kafka Connect - tasks status monitoring

**Once activated, connectors alerting can be controlled from the KVstore collection:**

::

    | inputlookup kafka_connect_tasks_monitoring

**Alerts can be controlled by changing values of the fields:**

* grace_period: The grace value in seconds before assuming a severe status (difference in seconds between the last communication and time of the check)
* monitoring_state: A value of "enabled" activates verification, any other value disables it

**Collection content update:**

The content of the collection is automatically generated by the night time scheduled report:

* Update Kafka Infrastructure components inventory

Once a component has been added to the collection, it will not be overwritten nor modified or deleted, and modifications can be made and saved safely.


Others
######

Additional out of the box alerts are available, consult the description to get more information.

More alerts might be added in the future.
